import { useRouter } from "next/router"
import { useState } from "react"
import Link from './link'
import styled from "styled-components"

import Button from './button'

let Container = styled.header`
  position: fixed;
  width: 100%;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 15px 25px;
  z-index: 999;
  top: 0;
  box-sizing: border-box;
  pointer-events: none;

  .home-button {
    pointer-events: all;
  }

  * {
    transition: 0.7s;
  }

  &&.gray-scheme * {
    color: var(--gray);
  }

  &&.gray-scheme svg {
    fill: var(--gray);
  }

@media(max-width: 989px) {
  justify-content: space-between;
  flex-direction: column;
  padding: 15px 20px;

  .home-button {
    width: 100%;
  }
}

`

let List = styled.ul`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  pointer-events: all;
`

let ListItem = styled.li`
  width: fit-content;

  > a {
    font-size: 0.875rem;
    text-decoration: none;
    text-transform: uppercase;
  }
`

let Menu = styled.div`
  display: flex;
  top: 0;
  left: 0;
  width: 35%;


  @media(max-width: 989px) {
    width: 100%;
    order: -1;
    margin-bottom: 15px;
  }
`

const Logo = styled.div`
  svg {
    height: 50px;
  }

  @media(max-width: 989px) {
    svg {
      height: auto;
      width: 100%;
    }
  }

`




export default function Header({ data }) {
  let [menuOpen, setMenuOpen] = useState(false);
  const router = useRouter();

  if(data === undefined) return null;

  return (
    <Container className={menuOpen ? "nav--open" : ""}>
      <div
        onClick={() => {setMenuOpen(false);}}
        className='home-button'
        >
        <Link href={`/`}>
          <Logo>
            <svg viewBox="0 0 936 153">
              <path class="st0" d="M378,0h0c-39.76,0-72,32.24-72,72h0v44.15c0,.47.38.85.85.85h62.5c.47,0,.85-.38.85-.85v-51.82c0-3.97,2.82-7.52,6.75-8.08,4.9-.7,9.09,3.08,9.09,7.84v52.07c0,.47.38.85.85.85h62.26c.47,0,.85-.38.85-.85v-44.15h0C450,32.24,417.76,0,378,0Z"/>
              <path class="st0" d="M72,0h0C32.24,0,0,32.24,0,72h0v80.15c0,.47.38.85.85.85h62.25c.47,0,.85-.38.85-.85v-35.15h79.2c.47,0,.85-.38.85-.85v-44.15h0C144,32.24,111.76,0,72,0ZM79.92,72h-15.84v-7.65c0-4.22,3.18-7.9,7.39-8.17,4.61-.3,8.45,3.35,8.45,7.9v7.92Z"/>
              <path class="st0" d="M225,0h0C185.24,0,153,32.24,153,72h0v44.15c0,.47.38.85.85.85h62.41c.47,0,.85-.38.85-.85v-20.1c0-4.22,3.18-7.9,7.39-8.17,4.61-.3,8.45,3.35,8.45,7.9v20.37c0,.47.38.85.85.85h62.35c.47,0,.85-.38.85-.85v-44.15h0C297,32.24,264.76,0,225,0ZM232.94,64.76c-.02.22-.05.44-.08.65-.01.09-.02.17-.03.26,0,.04-.03.09-.04.13-.06.26-.13.52-.21.78-.06.17-.12.34-.19.51-.05.13-.11.25-.16.37-.14.3-.3.59-.47.87-.06.1-.12.2-.18.29-.11.16-.23.32-.36.48-.07.09-.15.18-.23.27-.22.25-.45.48-.7.7-.09.08-.17.16-.27.23-.15.12-.31.24-.48.36-.09.07-.19.12-.29.18-.28.17-.57.33-.87.47-.12.06-.24.11-.37.16-.17.07-.33.13-.51.19-.25.08-.51.15-.77.21-.05,0-.09.03-.13.04-.09.02-.17.02-.26.03-.21.04-.43.06-.65.08-.11,0-.22.01-.32.02-.11,0-.21.02-.32.02s-.2-.01-.31-.02c-.11,0-.22,0-.32-.02-.22-.02-.44-.05-.65-.08-.08-.01-.16-.02-.24-.04-.29-.06-.58-.13-.86-.22-.05-.02-.1-.04-.15-.06-.23-.08-.45-.16-.67-.26-.09-.04-.18-.08-.26-.13-.18-.09-.35-.18-.52-.28-.09-.05-.18-.1-.26-.16-.17-.11-.33-.22-.49-.34-.07-.05-.15-.11-.22-.16-.45-.36-.85-.77-1.21-1.21-.06-.07-.11-.14-.16-.22-.12-.16-.24-.32-.34-.49-.06-.09-.11-.17-.16-.26-.1-.17-.19-.34-.28-.52-.04-.09-.09-.17-.13-.26-.1-.22-.18-.44-.26-.67-.02-.05-.04-.1-.06-.15-.09-.28-.16-.57-.22-.86-.02-.08-.02-.16-.04-.24-.04-.22-.06-.43-.08-.65,0-.11-.01-.21-.02-.32,0-.1-.02-.2-.02-.31s.01-.21.02-.32c0-.11,0-.22.02-.32.02-.22.05-.44.08-.65.01-.09.02-.17.03-.26,0-.05.03-.09.04-.13.06-.26.13-.52.21-.78.06-.17.12-.34.19-.51.05-.12.11-.25.16-.37.14-.3.3-.59.47-.87.06-.1.12-.19.18-.29.11-.16.23-.32.36-.48.07-.09.15-.18.23-.27.22-.25.45-.48.7-.7.09-.08.17-.16.27-.23.15-.12.31-.24.48-.36.09-.07.19-.12.29-.18.28-.17.57-.33.87-.47.12-.06.24-.11.37-.16.17-.07.33-.13.51-.19.25-.08.51-.15.77-.21.05,0,.09-.03.13-.04.09-.02.17-.02.26-.03.21-.04.43-.06.65-.08.11,0,.22-.01.32-.02.11,0,.21-.02.32-.02s.2.01.31.02c.11,0,.22,0,.32.02.22.02.44.05.65.08.08.01.16.02.24.04.29.06.58.13.86.22.05.02.1.04.16.06.23.08.45.16.66.26.09.04.18.08.26.13.18.09.35.18.52.28.09.05.18.1.26.16.17.11.33.22.49.34.07.05.15.11.22.16.22.18.44.37.64.57,0,0,0,0,0,0,.2.2.39.42.57.64.06.07.11.14.16.22.12.16.23.32.34.49.06.09.11.17.16.26.1.17.19.34.28.52.04.09.09.17.13.26.1.22.18.44.26.66.02.05.04.1.06.16.09.28.16.57.22.86.02.08.02.16.04.24.04.22.06.43.08.65,0,.11.01.21.02.32,0,.1.02.2.02.31s-.01.21-.02.32c0,.11,0,.21-.02.32Z"/>
              <path class="st0" d="M864,0h0c-39.76,0-72,32.24-72,72h0v44.15c0,.47.38.85.85.85h62.5c.47,0,.85-.38.85-.85v-51.82c0-3.97,2.82-7.52,6.75-8.08,4.9-.7,9.09,3.08,9.09,7.84v52.07c0,.47.38.85.85.85h62.26c.47,0,.85-.38.85-.85v-44.15h0C936,32.24,903.76,0,864,0Z"/>
              <path class="st0" d="M558,0h0c-39.76,0-72,32.24-72,72h0v80.15c0,.47.38.85.85.85h62.25c.47,0,.85-.38.85-.85v-35.15h79.2c.47,0,.85-.38.85-.85v-44.15h0C630,32.24,597.76,0,558,0ZM565.92,72h-15.84v-7.65c0-4.22,3.18-7.9,7.39-8.17,4.61-.3,8.45,3.35,8.45,7.9v7.92Z"/>
              <path class="st0" d="M711,0h0C671.24,0,639,32.24,639,72h0v44.15c0,.47.38.85.85.85h62.41c.47,0,.85-.38.85-.85v-20.1c0-4.22,3.18-7.9,7.39-8.17,4.61-.3,8.45,3.35,8.45,7.9v20.37c0,.47.38.85.85.85h62.35c.47,0,.85-.38.85-.85v-44.15h0C783,32.24,750.76,0,711,0ZM718.94,64.76c-.02.22-.05.44-.08.65-.01.09-.02.17-.03.26,0,.04-.03.09-.04.13-.06.26-.13.52-.21.78-.06.17-.12.34-.19.51-.05.13-.11.25-.16.37-.14.3-.3.59-.47.87-.06.1-.12.2-.18.29-.11.16-.23.32-.36.48-.07.09-.15.18-.23.27-.22.25-.45.48-.7.7-.09.08-.17.16-.27.23-.15.12-.31.24-.48.36-.09.07-.19.12-.29.18-.28.17-.57.33-.87.47-.12.06-.24.11-.37.16-.17.07-.33.13-.51.19-.25.08-.51.15-.77.21-.05,0-.09.03-.13.04-.09.02-.17.02-.26.03-.21.04-.43.06-.65.08-.11,0-.22.01-.32.02-.11,0-.21.02-.32.02s-.2-.01-.31-.02c-.11,0-.22,0-.32-.02-.22-.02-.44-.05-.65-.08-.08-.01-.16-.02-.24-.04-.29-.06-.58-.13-.86-.22-.05-.02-.1-.04-.15-.06-.23-.08-.45-.16-.67-.26-.09-.04-.18-.08-.26-.13-.18-.09-.35-.18-.52-.28-.09-.05-.18-.1-.26-.16-.17-.11-.33-.22-.49-.34-.07-.05-.15-.11-.22-.16-.45-.36-.85-.77-1.21-1.21-.06-.07-.11-.14-.16-.22-.12-.16-.24-.32-.34-.49-.06-.09-.11-.17-.16-.26-.1-.17-.19-.34-.28-.52-.04-.09-.09-.17-.13-.26-.1-.22-.18-.44-.26-.67-.02-.05-.04-.1-.06-.15-.09-.28-.16-.57-.22-.86-.02-.08-.02-.16-.04-.24-.04-.22-.06-.43-.08-.65,0-.11-.01-.21-.02-.32,0-.1-.02-.2-.02-.31s.01-.21.02-.32c0-.11,0-.22.02-.32.02-.22.05-.44.08-.65.01-.09.02-.17.03-.26,0-.05.03-.09.04-.13.06-.26.13-.52.21-.78.06-.17.12-.34.19-.51.05-.12.11-.25.16-.37.14-.3.3-.59.47-.87.06-.1.12-.19.18-.29.11-.16.23-.32.36-.48.07-.09.15-.18.23-.27.22-.25.45-.48.7-.7.09-.08.17-.16.27-.23.15-.12.31-.24.48-.36.09-.07.19-.12.29-.18.28-.17.57-.33.87-.47.12-.06.24-.11.37-.16.17-.07.33-.13.51-.19.25-.08.51-.15.77-.21.05,0,.09-.03.13-.04.09-.02.17-.02.26-.03.21-.04.43-.06.65-.08.11,0,.22-.01.32-.02.11,0,.21-.02.32-.02s.2.01.31.02c.11,0,.22,0,.32.02.22.02.44.05.65.08.08.01.16.02.24.04.29.06.58.13.86.22.05.02.1.04.16.06.23.08.45.16.66.26.09.04.18.08.26.13.18.09.35.18.52.28.09.05.18.1.26.16.17.11.33.22.49.34.07.05.15.11.22.16.22.18.44.37.64.57,0,0,0,0,0,0,.2.2.39.42.57.64.06.07.11.14.16.22.12.16.23.32.34.49.06.09.11.17.16.26.1.17.19.34.28.52.04.09.09.17.13.26.1.22.18.44.26.66.02.05.04.1.06.16.09.28.16.57.22.86.02.08.02.16.04.24.04.22.06.43.08.65,0,.11.01.21.02.32,0,.1.02.2.02.31s-.01.21-.02.32c0,.11,0,.21-.02.32Z"/>
            </svg>         
          </Logo>
        </Link>
      </div>
      <Menu className={menuOpen ? "nav--open" : ""}>
        <List>
          {
          data?.menuItems?.map((item, index) => {
            let isLast = index === data.menuItems.length - 1 ? true : false
            return <ListItem key={item._id}  onClick={() => setMenuOpen(false)} ><Link href={item.url} isMenu={true}><span>{item.label}</span></Link></ListItem>
          })
          }
        </List>
      </Menu>
    </Container>
  )
}
